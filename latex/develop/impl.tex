\chapter{实现}

\section{错误处理}

\section{引用计数}

文件描述符，指针在使用过程中被别的过程清理掉了，会导致严重后果。

\section{UDP Broadcast}

\section{Lease}

卷控制器发生切换，A->B。A上依然持有lease且能renew成功，B无法持有lease。

\section{ARP}

node.py

lich\_arp.py

tools/check\_client\_ip.sh

\section{vnode cache}

扩容后，iscsi重连，等10s后才能感知到。
