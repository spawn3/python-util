\chapter{FusionStor}

数据块及其副本位置是最重要的问题，分配、回收、恢复、平衡、GC都针对数据分布而言。
维护副本数据一致性，EC的情况会更复杂些，需要维护条带数据一致性。

IO路径是主线。

物理资源层次：集群、节点、磁盘。逻辑资源层次：集群、pool、目录、卷+快照。
其中，存储池即是物理资源的划分，又是逻辑卷资源的容器。
这是一个形如X的复用-分用的组织模式。

\section{High Performance}

应从硬件与软件两个层面去理解。

高性能版本意味着什么？首先是硬件的升级，包括网络、存储介质、协议。

对软件架构而言，意味着什么？主要涉及操作系统如何管理资源，访问效率如何。

代码优化

社区在做什么？大家在做什么？趋势是什么？

京东云也做RDMA，六人三个月。

存储有着广泛的标准组织，有什么重要的项目？

关注上下、左右各方面的情况。

\section{移动集采}

\hl{从移动集采项目，看分布式块存储的知识体系}。

分布式块系统面向四个方面：底层资源、主机、运维平台和云平台。
面向主机提供了iSCSI协议，外加vaai，
面向运维平台提供了SNMP trap，REST，CLI等接口。
面向云平台提供了cinder驱动。

面向主机是本质的方面，数据平面；其它面向是控制平面的事情。上下左右，四面八方。

\section{统一存储}

华为出版的\hl{数据存储技术与实践}一书，分为四个板块：企业存储、云存储、数据库、大数据。

统一存储相对于传统阵列来说的，统一了SAN与NAS，另加上对象存储。并不包括数据库、大数据等存储形式。
\hl{NAS网关}是在块的前面加上一层NAS接口组合而成。

分布式架构是相对于传统阵列而言，软件定义存储，智能存储。

云存储可以从openstack的cinder驱动开始理解，cinder提供了标准接口，封装了下层不同的存储产品。
另外是VMWare的VVol，反而不常用。云存储的关注点在云平台下的存储需求，如京东云硬盘组等等。

云平台与块存储的对接，构成了HCI架构。qumu/kvm如何访问块存储？通过rbd协议，或iSCSI等标准协议。
qemu与kvm是如何整合的？docker等容器技术与vm的优缺点，从而规定了不同的适用场景。
