\chapter{并发}

编程模型：多线程和事件驱动。多线程访问共享内存，需要同步机制。锁会形成死锁。
事件驱动有主循环，不能调用block操作，另外涉及如何动态扩展到多核多CPU的环境。

actor编程模型，SEDA是一个特殊的actor架构。

\section{同步原语}

同步原语组成层次结构。并发原语，层层还原，层层构建

从OS到DB，对并发的讨论在深化，事务要求ACID，且访问特定的索引结构。
另外还有持久化的要求，原子写变得更困难，引入日志。

本质上是序的问题，锁内在地实现了一种序。
逻辑时钟、paxos、raft中，序起到了至关重要的作用。
