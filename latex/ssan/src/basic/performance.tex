\chapter{性能优化}

\section{高性能架构}

从软件与硬件多个层面去梳理整个问题。

首先看资源、架构、算法，以及评估标准，或指标，接着进行设计方法、模式的研究。

新硬件：3+1都在演化。内存、外存的界限、波谱趋于平滑过渡。

新架构：使用硬件资源的方式也在发生变化，从操作系统、编程语言到应用层都是如此。
Intel SPDK/DPDK是个巨大的突破。
tgt项目有iSER，NVMf的实现。
bcache、Flashcache解决io路径的特定问题。

定制memory allocator是一个新认知。

SCSI的演化：

怎么设计出具有竞争力的系统？

\section{学习资料}

阅读yufeng，何登成blog。

性能杀手
\begin{enumbox}
\item context switch 
\item Lock 
\item memory malloc
\item data copy
\item System call 
\item false share
\end{enumbox}

理论
\begin{enumbox}
\item USE方法
\item 算法分析
\item 排队论
\end{enumbox}

Tool
\begin{enumbox}
\item top
\item iotop
\item slabtop
\item free
\item vmstat
\item iostat
\item dstat
\item pidstat
\item *
\item tcpdump
\item netstat
\item mpstat
\item tcprstat
\item nicstat
\item *
\item strace
\item blktrace
\item stap
\item perf
\item oprofile
\item stap
\item lmbench
\end{enumbox}
